<!DOCTYPE html>
<html>
   <head>
      <title>biobb_ml/resampling/oversampling.py - flake8 annotated source</title>
      <meta http-equiv="Content-Type" value="text/html; charset=UTF-8">
      <link rel="stylesheet" href="styles.css">
   </head>
   <body>
      <div id="masthead" class="sev-1"></div>
      <div id="page">
         <h1>
            <a href="biobb_ml.resampling.oversampling.report.html">
               <img src="back.svg" alt="&#x2B05;">
               biobb_ml/resampling/oversampling.py source
            </a>
         </h1>

         <div id="doc">
            <div id="l1"
               class="code sev- "><tt><i>1</i> <span class="ch">#!/usr/bin/env python3</span></tt>
            </div>
            <div id="l2"
               class="code sev- "><tt><i>2</i> &nbsp;</tt>
            </div>
            <div id="l3"
               class="code sev- "><tt><i>3</i> <span class="sd">&quot;&quot;&quot;Module containing the Oversampling class and the command line interface.&quot;&quot;&quot;</span></tt>
            </div>
            <div id="l4"
               class="code sev- "><tt><i>4</i> <span class="kn">import</span> <span class="nn">argparse</span></tt>
            </div>
            <div id="l5"
               class="code sev- "><tt><i>5</i> <span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span></tt>
            </div>
            <div id="l6"
               class="code sev- "><tt><i>6</i> <span class="kn">from</span> <span class="nn">collections</span> <span class="kn">import</span> <span class="n">Counter</span></tt>
            </div>
            <div id="l7"
               class="code sev- "><tt><i>7</i> <span class="kn">from</span> <span class="nn">biobb_common.generic.biobb_object</span> <span class="kn">import</span> <span class="n">BiobbObject</span></tt>
            </div>
            <div id="l8"
               class="code sev- "><tt><i>8</i> <span class="kn">from</span> <span class="nn">sklearn</span> <span class="kn">import</span> <span class="n">preprocessing</span></tt>
            </div>
            <div id="l9"
               class="code sev- "><tt><i>9</i> <span class="kn">from</span> <span class="nn">sklearn.model_selection</span> <span class="kn">import</span> <span class="n">cross_val_score</span></tt>
            </div>
            <div id="l10"
               class="code sev- "><tt><i>10</i> <span class="kn">from</span> <span class="nn">sklearn.model_selection</span> <span class="kn">import</span> <span class="n">RepeatedStratifiedKFold</span></tt>
            </div>
            <div id="l11"
               class="code sev- "><tt><i>11</i> <span class="kn">from</span> <span class="nn">sklearn.ensemble</span> <span class="kn">import</span> <span class="n">RandomForestClassifier</span></tt>
            </div>
            <div id="l12"
               class="code sev- "><tt><i>12</i> <span class="kn">from</span> <span class="nn">biobb_ml.resampling.reg_resampler</span> <span class="kn">import</span> <span class="n">resampler</span></tt>
            </div>
            <div id="l13"
               class="code sev-2  le">
               <ul class="violations">
               
                  <li>
                     <span class="count sev-2">
                        E271
                     </span>
                     Multiple spaces after keyword</li>
               
               </ul><tt><i>13</i> <span class="kn">from</span> <span class="nn">biobb_common.configuration</span> <span class="kn">import</span>  <span class="n">settings</span></tt>
            </div>
            <div id="l14"
               class="code sev- "><tt><i>14</i> <span class="kn">from</span> <span class="nn">biobb_common.tools</span> <span class="kn">import</span> <span class="n">file_utils</span> <span class="k">as</span> <span class="n">fu</span></tt>
            </div>
            <div id="l15"
               class="code sev- "><tt><i>15</i> <span class="kn">from</span> <span class="nn">biobb_common.tools.file_utils</span> <span class="kn">import</span> <span class="n">launchlogger</span></tt>
            </div>
            <div id="l16"
               class="code sev-1  le">
               <ul class="violations">
               
                  <li>
                     <span class="count sev-1">
                        F403
                     </span>
                     'from biobb_ml.resampling.common import *' used; unable to detect undefined names</li>
               
               </ul><tt><i>16</i> <span class="kn">from</span> <span class="nn">biobb_ml.resampling.common</span> <span class="kn">import</span> <span class="o">*</span></tt>
            </div>
            <div id="l17"
               class="code sev- "><tt><i>17</i> &nbsp;</tt>
            </div>
            <div id="l18"
               class="code sev- "><tt><i>18</i> &nbsp;</tt>
            </div>
            <div id="l19"
               class="code sev- "><tt><i>19</i> <span class="k">class</span> <span class="nc">Oversampling</span><span class="p">(</span><span class="n">BiobbObject</span><span class="p">):</span></tt>
            </div>
            <div id="l20"
               class="code sev- "><tt><i>20</i> <span class="w">    </span><span class="sd">&quot;&quot;&quot;</span></tt>
            </div>
            <div id="l21"
               class="code sev- "><tt><i>21</i> <span class="sd">    | biobb_ml Oversampling</span></tt>
            </div>
            <div id="l22"
               class="code sev- "><tt><i>22</i> <span class="sd">    | Wrapper of most of the imblearn.over_sampling methods.</span></tt>
            </div>
            <div id="l23"
               class="code sev- "><tt><i>23</i> <span class="sd">    | Involves supplementing the training data with multiple copies of some of the minority classes of a given dataset. If regression is specified as type, the data will be resampled to classes in order to apply the oversampling model. Visit the imbalanced-learn official website for the different methods accepted in this wrapper: `RandomOverSampler &lt;https://imbalanced-learn.readthedocs.io/en/stable/generated/imblearn.over_sampling.RandomOverSampler.html&gt;`_, `SMOTE &lt;https://imbalanced-learn.readthedocs.io/en/stable/generated/imblearn.over_sampling.SMOTE.html&gt;`_, `BorderlineSMOTE &lt;https://imbalanced-learn.readthedocs.io/en/stable/generated/imblearn.over_sampling.BorderlineSMOTE.html&gt;`_, `SVMSMOTE &lt;https://imbalanced-learn.readthedocs.io/en/stable/generated/imblearn.over_sampling.SVMSMOTE.html&gt;`_, `ADASYN &lt;https://imbalanced-learn.readthedocs.io/en/stable/generated/imblearn.over_sampling.ADASYN.html&gt;`_</span></tt>
            </div>
            <div id="l24"
               class="code sev- "><tt><i>24</i> &nbsp;</tt>
            </div>
            <div id="l25"
               class="code sev- "><tt><i>25</i> <span class="sd">    Args:</span></tt>
            </div>
            <div id="l26"
               class="code sev- "><tt><i>26</i> <span class="sd">        input_dataset_path (str): Path to the input dataset. File type: input. `Sample file &lt;https://github.com/bioexcel/biobb_ml/raw/master/biobb_ml/test/data/resampling/dataset_resampling.csv&gt;`_. Accepted formats: csv (edam:format_3752).</span></tt>
            </div>
            <div id="l27"
               class="code sev- "><tt><i>27</i> <span class="sd">        output_dataset_path (str): Path to the output dataset. File type: output. `Sample file &lt;https://github.com/bioexcel/biobb_ml/raw/master/biobb_ml/test/reference/resampling/ref_output_oversampling.csv&gt;`_. Accepted formats: csv (edam:format_3752).</span></tt>
            </div>
            <div id="l28"
               class="code sev- "><tt><i>28</i> <span class="sd">        properties (dic - Python dictionary object containing the tool parameters, not input/output files):</span></tt>
            </div>
            <div id="l29"
               class="code sev-2  le">
               <ul class="violations">
               
                  <li>
                     <span class="count sev-2">
                        E501
                     </span>
                     Line too long (1263 > 999 characters)</li>
               
               </ul><tt><i>29</i> <span class="sd">            * **method** (*str*) - (None) Oversampling method. It&#39;s a mandatory property. Values: random (`RandomOverSampler &lt;https://imbalanced-learn.readthedocs.io/en/stable/generated/imblearn.over_sampling.RandomOverSampler.html&gt;`_: Object to over-sample the minority classes by picking samples at random with replacement), smote (`SMOTE &lt;https://imbalanced-learn.readthedocs.io/en/stable/generated/imblearn.over_sampling.SMOTE.html&gt;`_: This object is an implementation of SMOTE - Synthetic Minority Over-sampling Technique), borderline (`BorderlineSMOTE &lt;https://imbalanced-learn.readthedocs.io/en/stable/generated/imblearn.over_sampling.BorderlineSMOTE.html&gt;`_: This algorithm is a variant of the original SMOTE algorithm. Borderline samples will be detected and used to generate new synthetic samples), svmsmote (`SVMSMOTE &lt;https://imbalanced-learn.readthedocs.io/en/stable/generated/imblearn.over_sampling.SVMSMOTE.html&gt;`_: Variant of SMOTE algorithm which use an SVM algorithm to detect sample to use for generating new synthetic samples), adasyn (`ADASYN &lt;https://imbalanced-learn.readthedocs.io/en/stable/generated/imblearn.over_sampling.ADASYN.html&gt;`_: Perform over-sampling using Adaptive Synthetic -ADASYN- sampling approach for imbalanced datasets).</span></tt>
            </div>
            <div id="l30"
               class="code sev- "><tt><i>30</i> <span class="sd">            * **type** (*str*) - (None) Type of oversampling. It&#39;s a mandatory property. Values: regression (the oversampling will be applied on a continuous dataset), classification (the oversampling will be applied on a classified dataset).</span></tt>
            </div>
            <div id="l31"
               class="code sev- "><tt><i>31</i> <span class="sd">            * **target** (*dict*) - ({}) Dependent variable you want to predict from your dataset. You can specify either a column name or a column index. Formats: { &quot;column&quot;: &quot;column3&quot; } or { &quot;index&quot;: 21 }. In case of mulitple formats, the first one will be picked.</span></tt>
            </div>
            <div id="l32"
               class="code sev- "><tt><i>32</i> <span class="sd">            * **evaluate** (*bool*) - (False)  Whether or not to evaluate the dataset before and after applying the resampling.</span></tt>
            </div>
            <div id="l33"
               class="code sev- "><tt><i>33</i> <span class="sd">            * **evaluate_splits** (*int*) - (3) [2~100|1] Number of folds to be applied by the Repeated Stratified K-Fold evaluation method. Must be at least 2.</span></tt>
            </div>
            <div id="l34"
               class="code sev- "><tt><i>34</i> <span class="sd">            * **evaluate_repeats** (*int*) - (3) [2~100|1] Number of times Repeated Stratified K-Fold cross validator needs to be repeated.</span></tt>
            </div>
            <div id="l35"
               class="code sev- "><tt><i>35</i> <span class="sd">            * **n_bins** (*int*) - (5) [1~100|1] Only for regression oversampling. The number of classes that the user wants to generate with the target data.</span></tt>
            </div>
            <div id="l36"
               class="code sev- "><tt><i>36</i> <span class="sd">            * **balanced_binning** (*bool*) - (False)  Only for regression oversampling. Decides whether samples are to be distributed roughly equally across all classes.</span></tt>
            </div>
            <div id="l37"
               class="code sev-2  le">
               <ul class="violations">
               
                  <li>
                     <span class="count sev-2">
                        E501
                     </span>
                     Line too long (1022 > 999 characters)</li>
               
               </ul><tt><i>37</i> <span class="sd">            * **sampling_strategy** (*dict*) - ({ &quot;target&quot;: &quot;auto&quot; })  Sampling information to sample the data set. Formats: { &quot;target&quot;: &quot;auto&quot; }, { &quot;ratio&quot;: 0.3 }, { &quot;dict&quot;: { 0: 300, 1: 200, 2: 100 } } or { &quot;list&quot;: [0, 2, 3] }. When &quot;target&quot;, specify the class targeted by the resampling; the number of samples in the different classes will be equalized; possible choices are: minority (resample only the minority class), not minority (resample all classes but the minority class), not majority (resample all classes but the majority class), all (resample all classes), auto (equivalent to &#39;not majority&#39;). When &quot;ratio&quot;, it corresponds to the desired ratio of the number of samples in the minority class over the number of samples in the majority class after resampling (ONLY IN CASE OF BINARY CLASSIFICATION).  When &quot;dict&quot;, the keys correspond to the targeted classes, the values correspond to the desired number of samples for each targeted class. When &quot;list&quot;, the list contains the classes targeted by the resampling.</span></tt>
            </div>
            <div id="l38"
               class="code sev- "><tt><i>38</i> <span class="sd">            * **k_neighbors** (*int*) - (5) [1~100|1] Only for SMOTE, BorderlineSMOTE, SVMSMOTE, ADASYN. The number of nearest neighbours used to construct synthetic samples.</span></tt>
            </div>
            <div id="l39"
               class="code sev- "><tt><i>39</i> <span class="sd">            * **random_state_method** (*int*) - (5) [1~1000|1] Controls the randomization of the algorithm.</span></tt>
            </div>
            <div id="l40"
               class="code sev- "><tt><i>40</i> <span class="sd">            * **random_state_evaluate** (*int*) - (5) [1~1000|1] Controls the shuffling applied to the Repeated Stratified K-Fold evaluation method.</span></tt>
            </div>
            <div id="l41"
               class="code sev- "><tt><i>41</i> <span class="sd">            * **remove_tmp** (*bool*) - (True) [WF property] Remove temporal files.</span></tt>
            </div>
            <div id="l42"
               class="code sev- "><tt><i>42</i> <span class="sd">            * **restart** (*bool*) - (False) [WF property] Do not execute if output files exist.</span></tt>
            </div>
            <div id="l43"
               class="code sev- "><tt><i>43</i> &nbsp;</tt>
            </div>
            <div id="l44"
               class="code sev- "><tt><i>44</i> <span class="sd">    Examples:</span></tt>
            </div>
            <div id="l45"
               class="code sev- "><tt><i>45</i> <span class="sd">        This is a use example of how to use the building block from Python::</span></tt>
            </div>
            <div id="l46"
               class="code sev- "><tt><i>46</i> &nbsp;</tt>
            </div>
            <div id="l47"
               class="code sev- "><tt><i>47</i> <span class="sd">            from biobb_ml.resampling.oversampling import oversampling</span></tt>
            </div>
            <div id="l48"
               class="code sev-2  le">
               <ul class="violations">
               
                  <li>
                     <span class="count sev-2">
                        W291
                     </span>
                     Trailing whitespace</li>
               
               </ul><tt><i>48</i> <span class="sd">            prop = { </span></tt>
            </div>
            <div id="l49"
               class="code sev-2  le">
               <ul class="violations">
               
                  <li>
                     <span class="count sev-2">
                        W291
                     </span>
                     Trailing whitespace</li>
               
               </ul><tt><i>49</i> <span class="sd">                &#39;method&#39;: &#39;random, </span></tt>
            </div>
            <div id="l50"
               class="code sev-2  le">
               <ul class="violations">
               
                  <li>
                     <span class="count sev-2">
                        W291
                     </span>
                     Trailing whitespace</li>
               
               </ul><tt><i>50</i> <span class="sd">                &#39;type&#39;: &#39;regression, </span></tt>
            </div>
            <div id="l51"
               class="code sev-2  le">
               <ul class="violations">
               
                  <li>
                     <span class="count sev-2">
                        W291
                     </span>
                     Trailing whitespace</li>
               
               </ul><tt><i>51</i> <span class="sd">                &#39;target&#39;: { </span></tt>
            </div>
            <div id="l52"
               class="code sev-2  le">
               <ul class="violations">
               
                  <li>
                     <span class="count sev-2">
                        W291
                     </span>
                     Trailing whitespace</li>
               
               </ul><tt><i>52</i> <span class="sd">                    &#39;column&#39;: &#39;target&#39; </span></tt>
            </div>
            <div id="l53"
               class="code sev-2  le">
               <ul class="violations">
               
                  <li>
                     <span class="count sev-2">
                        W291
                     </span>
                     Trailing whitespace</li>
               
               </ul><tt><i>53</i> <span class="sd">                }, </span></tt>
            </div>
            <div id="l54"
               class="code sev-2  le">
               <ul class="violations">
               
                  <li>
                     <span class="count sev-2">
                        W291
                     </span>
                     Trailing whitespace</li>
               
               </ul><tt><i>54</i> <span class="sd">                &#39;evaluate&#39;: true, </span></tt>
            </div>
            <div id="l55"
               class="code sev- "><tt><i>55</i> <span class="sd">                &#39;n_bins&#39;: 10,</span></tt>
            </div>
            <div id="l56"
               class="code sev-2  le">
               <ul class="violations">
               
                  <li>
                     <span class="count sev-2">
                        W291
                     </span>
                     Trailing whitespace</li>
               
               </ul><tt><i>56</i> <span class="sd">                &#39;sampling_strategy&#39;: { </span></tt>
            </div>
            <div id="l57"
               class="code sev-2  le">
               <ul class="violations">
               
                  <li>
                     <span class="count sev-2">
                        W291
                     </span>
                     Trailing whitespace</li>
               
               </ul><tt><i>57</i> <span class="sd">                    &#39;target&#39;: &#39;minority&#39; </span></tt>
            </div>
            <div id="l58"
               class="code sev- "><tt><i>58</i> <span class="sd">                }</span></tt>
            </div>
            <div id="l59"
               class="code sev- "><tt><i>59</i> <span class="sd">            }</span></tt>
            </div>
            <div id="l60"
               class="code sev-2  le">
               <ul class="violations">
               
                  <li>
                     <span class="count sev-2">
                        W291
                     </span>
                     Trailing whitespace</li>
               
               </ul><tt><i>60</i> <span class="sd">            oversampling(input_dataset_path=&#39;/path/to/myDataset.csv&#39;, </span></tt>
            </div>
            <div id="l61"
               class="code sev-2  le">
               <ul class="violations">
               
                  <li>
                     <span class="count sev-2">
                        W291
                     </span>
                     Trailing whitespace</li>
               
               </ul><tt><i>61</i> <span class="sd">                        output_dataset_path=&#39;/path/to/newDataset.csv&#39;, </span></tt>
            </div>
            <div id="l62"
               class="code sev- "><tt><i>62</i> <span class="sd">                        properties=prop)</span></tt>
            </div>
            <div id="l63"
               class="code sev- "><tt><i>63</i> &nbsp;</tt>
            </div>
            <div id="l64"
               class="code sev- "><tt><i>64</i> <span class="sd">    Info:</span></tt>
            </div>
            <div id="l65"
               class="code sev- "><tt><i>65</i> <span class="sd">        * wrapped_software:</span></tt>
            </div>
            <div id="l66"
               class="code sev- "><tt><i>66</i> <span class="sd">            * name: imbalanced-learn over_sampling</span></tt>
            </div>
            <div id="l67"
               class="code sev- "><tt><i>67</i> <span class="sd">            * version: &gt;0.7.0</span></tt>
            </div>
            <div id="l68"
               class="code sev- "><tt><i>68</i> <span class="sd">            * license: MIT</span></tt>
            </div>
            <div id="l69"
               class="code sev- "><tt><i>69</i> <span class="sd">        * ontology:</span></tt>
            </div>
            <div id="l70"
               class="code sev- "><tt><i>70</i> <span class="sd">            * name: EDAM</span></tt>
            </div>
            <div id="l71"
               class="code sev- "><tt><i>71</i> <span class="sd">            * schema: http://edamontology.org/EDAM.owl</span></tt>
            </div>
            <div id="l72"
               class="code sev- "><tt><i>72</i> &nbsp;</tt>
            </div>
            <div id="l73"
               class="code sev- "><tt><i>73</i> <span class="sd">    &quot;&quot;&quot;</span></tt>
            </div>
            <div id="l74"
               class="code sev- "><tt><i>74</i> &nbsp;</tt>
            </div>
            <div id="l75"
               class="code sev-2  le">
               <ul class="violations">
               
                  <li>
                     <span class="count sev-2">
                        W291
                     </span>
                     Trailing whitespace</li>
               
               </ul><tt><i>75</i>     <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">input_dataset_path</span><span class="p">,</span> <span class="n">output_dataset_path</span><span class="p">,</span> </tt>
            </div>
            <div id="l76"
               class="code sev-2  le">
               <ul class="violations">
               
                  <li>
                     <span class="count sev-2">
                        E128
                     </span>
                     Continuation line under-indented for visual indent</li>
               
               </ul><tt><i>76</i>                 <span class="n">properties</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span></tt>
            </div>
            <div id="l77"
               class="code sev- "><tt><i>77</i>         <span class="n">properties</span> <span class="o">=</span> <span class="n">properties</span> <span class="ow">or</span> <span class="p">{}</span></tt>
            </div>
            <div id="l78"
               class="code sev- "><tt><i>78</i> &nbsp;</tt>
            </div>
            <div id="l79"
               class="code sev- "><tt><i>79</i>         <span class="c1"># Call parent class constructor</span></tt>
            </div>
            <div id="l80"
               class="code sev- "><tt><i>80</i>         <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">properties</span><span class="p">)</span></tt>
            </div>
            <div id="l81"
               class="code sev- "><tt><i>81</i>         <span class="bp">self</span><span class="o">.</span><span class="n">locals_var_dict</span> <span class="o">=</span> <span class="nb">locals</span><span class="p">()</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span></tt>
            </div>
            <div id="l82"
               class="code sev- "><tt><i>82</i> &nbsp;</tt>
            </div>
            <div id="l83"
               class="code sev- "><tt><i>83</i>         <span class="c1"># Input/Output files</span></tt>
            </div>
            <div id="l84"
               class="code sev-2  le">
               <ul class="violations">
               
                  <li>
                     <span class="count sev-2">
                        W291
                     </span>
                     Trailing whitespace</li>
               
               </ul><tt><i>84</i>         <span class="bp">self</span><span class="o">.</span><span class="n">io_dict</span> <span class="o">=</span> <span class="p">{</span> </tt>
            </div>
            <div id="l85"
               class="code sev-2  le">
               <ul class="violations">
               
                  <li>
                     <span class="count sev-2">
                        E201
                     </span>
                     Whitespace after '{'</li>
               
                  <li>
                     <span class="count sev-2">
                        E202
                     </span>
                     Whitespace before '}'</li>
               
                  <li>
                     <span class="count sev-2">
                        W291
                     </span>
                     Trailing whitespace</li>
               
               </ul><tt><i>85</i>             <span class="s2">&quot;in&quot;</span><span class="p">:</span> <span class="p">{</span> <span class="s2">&quot;input_dataset_path&quot;</span><span class="p">:</span> <span class="n">input_dataset_path</span> <span class="p">},</span> </tt>
            </div>
            <div id="l86"
               class="code sev-2  le">
               <ul class="violations">
               
                  <li>
                     <span class="count sev-2">
                        E201
                     </span>
                     Whitespace after '{'</li>
               
                  <li>
                     <span class="count sev-2">
                        E202
                     </span>
                     Whitespace before '}'</li>
               
                  <li>
                     <span class="count sev-2">
                        W291
                     </span>
                     Trailing whitespace</li>
               
               </ul><tt><i>86</i>             <span class="s2">&quot;out&quot;</span><span class="p">:</span> <span class="p">{</span> <span class="s2">&quot;output_dataset_path&quot;</span><span class="p">:</span> <span class="n">output_dataset_path</span> <span class="p">}</span> </tt>
            </div>
            <div id="l87"
               class="code sev- "><tt><i>87</i>         <span class="p">}</span></tt>
            </div>
            <div id="l88"
               class="code sev- "><tt><i>88</i> &nbsp;</tt>
            </div>
            <div id="l89"
               class="code sev- "><tt><i>89</i>         <span class="c1"># Properties specific for BB</span></tt>
            </div>
            <div id="l90"
               class="code sev- "><tt><i>90</i>         <span class="bp">self</span><span class="o">.</span><span class="n">method</span> <span class="o">=</span> <span class="n">properties</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;method&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span></tt>
            </div>
            <div id="l91"
               class="code sev- "><tt><i>91</i>         <span class="bp">self</span><span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="n">properties</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;type&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span></tt>
            </div>
            <div id="l92"
               class="code sev- "><tt><i>92</i>         <span class="bp">self</span><span class="o">.</span><span class="n">target</span> <span class="o">=</span> <span class="n">properties</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;target&#39;</span><span class="p">,</span> <span class="p">{})</span></tt>
            </div>
            <div id="l93"
               class="code sev- "><tt><i>93</i>         <span class="bp">self</span><span class="o">.</span><span class="n">evaluate</span> <span class="o">=</span> <span class="n">properties</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;evaluate&#39;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span></tt>
            </div>
            <div id="l94"
               class="code sev- "><tt><i>94</i>         <span class="bp">self</span><span class="o">.</span><span class="n">evaluate_splits</span> <span class="o">=</span> <span class="n">properties</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;evaluate_splits&#39;</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span></tt>
            </div>
            <div id="l95"
               class="code sev- "><tt><i>95</i>         <span class="bp">self</span><span class="o">.</span><span class="n">evaluate_repeats</span> <span class="o">=</span> <span class="n">properties</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;evaluate_repeats&#39;</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span></tt>
            </div>
            <div id="l96"
               class="code sev- "><tt><i>96</i>         <span class="bp">self</span><span class="o">.</span><span class="n">n_bins</span> <span class="o">=</span> <span class="n">properties</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;n_bins&#39;</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span></tt>
            </div>
            <div id="l97"
               class="code sev- "><tt><i>97</i>         <span class="bp">self</span><span class="o">.</span><span class="n">balanced_binning</span> <span class="o">=</span> <span class="n">properties</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;balanced_binning&#39;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span></tt>
            </div>
            <div id="l98"
               class="code sev-2  le">
               <ul class="violations">
               
                  <li>
                     <span class="count sev-2">
                        E201
                     </span>
                     Whitespace after '{'</li>
               
                  <li>
                     <span class="count sev-2">
                        E202
                     </span>
                     Whitespace before '}'</li>
               
               </ul><tt><i>98</i>         <span class="bp">self</span><span class="o">.</span><span class="n">sampling_strategy</span> <span class="o">=</span> <span class="n">properties</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;sampling_strategy&#39;</span><span class="p">,</span> <span class="p">{</span> <span class="s1">&#39;target&#39;</span><span class="p">:</span> <span class="s1">&#39;auto&#39;</span> <span class="p">})</span></tt>
            </div>
            <div id="l99"
               class="code sev- "><tt><i>99</i>         <span class="bp">self</span><span class="o">.</span><span class="n">k_neighbors</span> <span class="o">=</span> <span class="n">properties</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;k_neighbors&#39;</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span></tt>
            </div>
            <div id="l100"
               class="code sev- "><tt><i>100</i>         <span class="bp">self</span><span class="o">.</span><span class="n">random_state_method</span> <span class="o">=</span> <span class="n">properties</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;random_state_method&#39;</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span></tt>
            </div>
            <div id="l101"
               class="code sev- "><tt><i>101</i>         <span class="bp">self</span><span class="o">.</span><span class="n">random_state_evaluate</span> <span class="o">=</span> <span class="n">properties</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;random_state_evaluate&#39;</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span></tt>
            </div>
            <div id="l102"
               class="code sev- "><tt><i>102</i>         <span class="bp">self</span><span class="o">.</span><span class="n">properties</span> <span class="o">=</span> <span class="n">properties</span></tt>
            </div>
            <div id="l103"
               class="code sev- "><tt><i>103</i> &nbsp;</tt>
            </div>
            <div id="l104"
               class="code sev- "><tt><i>104</i>         <span class="c1"># Check the properties</span></tt>
            </div>
            <div id="l105"
               class="code sev- "><tt><i>105</i>         <span class="bp">self</span><span class="o">.</span><span class="n">check_properties</span><span class="p">(</span><span class="n">properties</span><span class="p">)</span></tt>
            </div>
            <div id="l106"
               class="code sev- "><tt><i>106</i>         <span class="bp">self</span><span class="o">.</span><span class="n">check_arguments</span><span class="p">()</span></tt>
            </div>
            <div id="l107"
               class="code sev- "><tt><i>107</i> &nbsp;</tt>
            </div>
            <div id="l108"
               class="code sev- "><tt><i>108</i>     <span class="k">def</span> <span class="nf">check_data_params</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">out_log</span><span class="p">,</span> <span class="n">err_log</span><span class="p">):</span></tt>
            </div>
            <div id="l109"
               class="code sev- "><tt><i>109</i> <span class="w">        </span><span class="sd">&quot;&quot;&quot; Checks all the input/output paths and parameters &quot;&quot;&quot;</span></tt>
            </div>
            <div id="l110"
               class="code sev-1  le">
               <ul class="violations">
               
                  <li>
                     <span class="count sev-1">
                        F405
                     </span>
                     'check_input_path' may be undefined, or defined from star imports: biobb_ml.resampling.common</li>
               
               </ul><tt><i>110</i>         <span class="bp">self</span><span class="o">.</span><span class="n">io_dict</span><span class="p">[</span><span class="s2">&quot;in&quot;</span><span class="p">][</span><span class="s2">&quot;input_dataset_path&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">check_input_path</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">io_dict</span><span class="p">[</span><span class="s2">&quot;in&quot;</span><span class="p">][</span><span class="s2">&quot;input_dataset_path&quot;</span><span class="p">],</span> <span class="s2">&quot;input_dataset_path&quot;</span><span class="p">,</span> <span class="n">out_log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="p">)</span></tt>
            </div>
            <div id="l111"
               class="code sev-1  le">
               <ul class="violations">
               
                  <li>
                     <span class="count sev-1">
                        F405
                     </span>
                     'check_output_path' may be undefined, or defined from star imports: biobb_ml.resampling.common</li>
               
                  <li>
                     <span class="count sev-2">
                        E231
                     </span>
                     Missing whitespace after ','</li>
               
               </ul><tt><i>111</i>         <span class="bp">self</span><span class="o">.</span><span class="n">io_dict</span><span class="p">[</span><span class="s2">&quot;out&quot;</span><span class="p">][</span><span class="s2">&quot;output_dataset_path&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">check_output_path</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">io_dict</span><span class="p">[</span><span class="s2">&quot;out&quot;</span><span class="p">][</span><span class="s2">&quot;output_dataset_path&quot;</span><span class="p">],</span><span class="s2">&quot;output_dataset_path&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="n">out_log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="p">)</span></tt>
            </div>
            <div id="l112"
               class="code sev- "><tt><i>112</i> &nbsp;</tt>
            </div>
            <div id="l113"
               class="code sev- "><tt><i>113</i> &nbsp;</tt>
            </div>
            <div id="l114"
               class="code sev-2  le">
               <ul class="violations">
               
                  <li>
                     <span class="count sev-2">
                        E303
                     </span>
                     Too many blank lines (2)</li>
               
               </ul><tt><i>114</i>     <span class="nd">@launchlogger</span></tt>
            </div>
            <div id="l115"
               class="code sev- "><tt><i>115</i>     <span class="k">def</span> <span class="nf">launch</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span></tt>
            </div>
            <div id="l116"
               class="code sev- "><tt><i>116</i> <span class="w">        </span><span class="sd">&quot;&quot;&quot;Execute the :class:`Oversampling &lt;resampling.oversampling.Oversampling&gt;` resampling.oversampling.Oversampling object.&quot;&quot;&quot;</span></tt>
            </div>
            <div id="l117"
               class="code sev- "><tt><i>117</i> &nbsp;</tt>
            </div>
            <div id="l118"
               class="code sev- "><tt><i>118</i>         <span class="c1"># check input/output paths and parameters</span></tt>
            </div>
            <div id="l119"
               class="code sev- "><tt><i>119</i>         <span class="bp">self</span><span class="o">.</span><span class="n">check_data_params</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">out_log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">err_log</span><span class="p">)</span></tt>
            </div>
            <div id="l120"
               class="code sev- "><tt><i>120</i> &nbsp;</tt>
            </div>
            <div id="l121"
               class="code sev- "><tt><i>121</i>         <span class="c1"># Setup Biobb</span></tt>
            </div>
            <div id="l122"
               class="code sev-2  le">
               <ul class="violations">
               
                  <li>
                     <span class="count sev-2">
                        E701
                     </span>
                     Multiple statements on one line (colon)</li>
               
               </ul><tt><i>122</i>         <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">check_restart</span><span class="p">():</span> <span class="k">return</span> <span class="mi">0</span></tt>
            </div>
            <div id="l123"
               class="code sev- "><tt><i>123</i>         <span class="bp">self</span><span class="o">.</span><span class="n">stage_files</span><span class="p">()</span></tt>
            </div>
            <div id="l124"
               class="code sev- "><tt><i>124</i> &nbsp;</tt>
            </div>
            <div id="l125"
               class="code sev- "><tt><i>125</i>         <span class="c1"># check mandatory properties</span></tt>
            </div>
            <div id="l126"
               class="code sev-1  le">
               <ul class="violations">
               
                  <li>
                     <span class="count sev-1">
                        F405
                     </span>
                     'getResamplingMethod' may be undefined, or defined from star imports: biobb_ml.resampling.common</li>
               
               </ul><tt><i>126</i>         <span class="n">method</span> <span class="o">=</span> <span class="n">getResamplingMethod</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">method</span><span class="p">,</span> <span class="s1">&#39;oversampling&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">out_log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="p">)</span></tt>
            </div>
            <div id="l127"
               class="code sev-1  le">
               <ul class="violations">
               
                  <li>
                     <span class="count sev-1">
                        F405
                     </span>
                     'checkResamplingType' may be undefined, or defined from star imports: biobb_ml.resampling.common</li>
               
               </ul><tt><i>127</i>         <span class="n">checkResamplingType</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">type</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">out_log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="p">)</span></tt>
            </div>
            <div id="l128"
               class="code sev-1  le">
               <ul class="violations">
               
                  <li>
                     <span class="count sev-1">
                        F405
                     </span>
                     'getSamplingStrategy' may be undefined, or defined from star imports: biobb_ml.resampling.common</li>
               
               </ul><tt><i>128</i>         <span class="n">sampling_strategy</span> <span class="o">=</span> <span class="n">getSamplingStrategy</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">sampling_strategy</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">out_log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="p">)</span></tt>
            </div>
            <div id="l129"
               class="code sev- "><tt><i>129</i> &nbsp;</tt>
            </div>
            <div id="l130"
               class="code sev- "><tt><i>130</i>         <span class="c1"># load dataset</span></tt>
            </div>
            <div id="l131"
               class="code sev- "><tt><i>131</i>         <span class="n">fu</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="s1">&#39;Getting dataset from </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">io_dict</span><span class="p">[</span><span class="s2">&quot;in&quot;</span><span class="p">][</span><span class="s2">&quot;input_dataset_path&quot;</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">out_log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">global_log</span><span class="p">)</span></tt>
            </div>
            <div id="l132"
               class="code sev- "><tt><i>132</i>         <span class="k">if</span> <span class="s1">&#39;column&#39;</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">target</span><span class="p">:</span></tt>
            </div>
            <div id="l133"
               class="code sev-1  le">
               <ul class="violations">
               
                  <li>
                     <span class="count sev-1">
                        F405
                     </span>
                     'getHeader' may be undefined, or defined from star imports: biobb_ml.resampling.common</li>
               
               </ul><tt><i>133</i>             <span class="n">labels</span> <span class="o">=</span> <span class="n">getHeader</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">io_dict</span><span class="p">[</span><span class="s2">&quot;in&quot;</span><span class="p">][</span><span class="s2">&quot;input_dataset_path&quot;</span><span class="p">])</span></tt>
            </div>
            <div id="l134"
               class="code sev- "><tt><i>134</i>             <span class="n">skiprows</span> <span class="o">=</span> <span class="mi">1</span></tt>
            </div>
            <div id="l135"
               class="code sev- "><tt><i>135</i>             <span class="n">header</span> <span class="o">=</span> <span class="mi">0</span></tt>
            </div>
            <div id="l136"
               class="code sev- "><tt><i>136</i>         <span class="k">else</span><span class="p">:</span></tt>
            </div>
            <div id="l137"
               class="code sev- "><tt><i>137</i>             <span class="n">labels</span> <span class="o">=</span> <span class="kc">None</span></tt>
            </div>
            <div id="l138"
               class="code sev- "><tt><i>138</i>             <span class="n">skiprows</span> <span class="o">=</span> <span class="kc">None</span></tt>
            </div>
            <div id="l139"
               class="code sev- "><tt><i>139</i>             <span class="n">header</span> <span class="o">=</span> <span class="kc">None</span></tt>
            </div>
            <div id="l140"
               class="code sev-1  le">
               <ul class="violations">
               
                  <li>
                     <span class="count sev-1">
                        F405
                     </span>
                     'pd' may be undefined, or defined from star imports: biobb_ml.resampling.common</li>
               
                  <li>
                     <span class="count sev-2">
                        E251
                     </span>
                     Unexpected spaces around keyword / parameter equals (in 2 places)</li>
               
               </ul><tt><i>140</i>         <span class="n">data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">io_dict</span><span class="p">[</span><span class="s2">&quot;in&quot;</span><span class="p">][</span><span class="s2">&quot;input_dataset_path&quot;</span><span class="p">],</span> <span class="n">header</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">sep</span><span class="o">=</span><span class="s2">&quot;</span><span class="se">\\</span><span class="s2">s+|;|:|,|</span><span class="se">\t</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">engine</span><span class="o">=</span><span class="s2">&quot;python&quot;</span><span class="p">,</span> <span class="n">skiprows</span><span class="o">=</span><span class="n">skiprows</span><span class="p">,</span> <span class="n">names</span><span class="o">=</span><span class="n">labels</span><span class="p">)</span></tt>
            </div>
            <div id="l141"
               class="code sev- "><tt><i>141</i> &nbsp;</tt>
            </div>
            <div id="l142"
               class="code sev- "><tt><i>142</i>         <span class="n">train_df</span> <span class="o">=</span> <span class="n">data</span></tt>
            </div>
            <div id="l143"
               class="code sev- "><tt><i>143</i>         <span class="n">ranges</span> <span class="o">=</span> <span class="kc">None</span></tt>
            </div>
            <div id="l144"
               class="code sev- "><tt><i>144</i> &nbsp;</tt>
            </div>
            <div id="l145"
               class="code sev- "><tt><i>145</i>         <span class="n">le</span> <span class="o">=</span> <span class="n">preprocessing</span><span class="o">.</span><span class="n">LabelEncoder</span><span class="p">()</span></tt>
            </div>
            <div id="l146"
               class="code sev- "><tt><i>146</i> &nbsp;</tt>
            </div>
            <div id="l147"
               class="code sev- "><tt><i>147</i>         <span class="n">cols_encoded</span> <span class="o">=</span> <span class="p">[]</span></tt>
            </div>
            <div id="l148"
               class="code sev- "><tt><i>148</i>         <span class="k">for</span> <span class="n">column</span> <span class="ow">in</span> <span class="n">train_df</span><span class="p">:</span></tt>
            </div>
            <div id="l149"
               class="code sev- "><tt><i>149</i>             <span class="c1"># if type object, LabelEncoder.fit_transform</span></tt>
            </div>
            <div id="l150"
               class="code sev- "><tt><i>150</i>             <span class="k">if</span> <span class="n">train_df</span><span class="p">[</span><span class="n">column</span><span class="p">]</span><span class="o">.</span><span class="n">dtypes</span> <span class="o">==</span> <span class="s1">&#39;object&#39;</span><span class="p">:</span></tt>
            </div>
            <div id="l151"
               class="code sev- "><tt><i>151</i>                 <span class="n">cols_encoded</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">column</span><span class="p">)</span></tt>
            </div>
            <div id="l152"
               class="code sev- "><tt><i>152</i>                 <span class="n">train_df</span><span class="p">[</span><span class="n">column</span><span class="p">]</span> <span class="o">=</span> <span class="n">le</span><span class="o">.</span><span class="n">fit_transform</span><span class="p">(</span><span class="n">train_df</span><span class="p">[</span><span class="n">column</span><span class="p">])</span></tt>
            </div>
            <div id="l153"
               class="code sev- "><tt><i>153</i> &nbsp;</tt>
            </div>
            <div id="l154"
               class="code sev- "><tt><i>154</i>         <span class="c1"># defining X</span></tt>
            </div>
            <div id="l155"
               class="code sev-1  le">
               <ul class="violations">
               
                  <li>
                     <span class="count sev-1">
                        F405
                     </span>
                     'getTargetValue' may be undefined, or defined from star imports: biobb_ml.resampling.common</li>
               
                  <li>
                     <span class="count sev-2">
                        W291
                     </span>
                     Trailing whitespace</li>
               
               </ul><tt><i>155</i>         <span class="n">X</span> <span class="o">=</span> <span class="n">train_df</span><span class="o">.</span><span class="n">loc</span><span class="p">[:,</span> <span class="n">train_df</span><span class="o">.</span><span class="n">columns</span> <span class="o">!=</span> <span class="n">getTargetValue</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">target</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">out_log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="p">)]</span> </tt>
            </div>
            <div id="l156"
               class="code sev- "><tt><i>156</i>         <span class="c1"># calling oversample method</span></tt>
            </div>
            <div id="l157"
               class="code sev- "><tt><i>157</i>         <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">method</span> <span class="o">==</span> <span class="s1">&#39;random&#39;</span><span class="p">:</span></tt>
            </div>
            <div id="l158"
               class="code sev- "><tt><i>158</i>             <span class="n">method</span> <span class="o">=</span> <span class="n">method</span><span class="p">(</span><span class="n">sampling_strategy</span><span class="o">=</span><span class="n">sampling_strategy</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">random_state_method</span><span class="p">)</span></tt>
            </div>
            <div id="l159"
               class="code sev- "><tt><i>159</i>         <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">method</span> <span class="o">==</span> <span class="s1">&#39;smote&#39;</span><span class="p">:</span></tt>
            </div>
            <div id="l160"
               class="code sev- "><tt><i>160</i>             <span class="n">method</span> <span class="o">=</span> <span class="n">method</span><span class="p">(</span><span class="n">sampling_strategy</span><span class="o">=</span><span class="n">sampling_strategy</span><span class="p">,</span> <span class="n">k_neighbors</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">k_neighbors</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">random_state_method</span><span class="p">)</span></tt>
            </div>
            <div id="l161"
               class="code sev- "><tt><i>161</i>         <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">method</span> <span class="o">==</span> <span class="s1">&#39;borderline&#39;</span><span class="p">:</span></tt>
            </div>
            <div id="l162"
               class="code sev- "><tt><i>162</i>             <span class="n">method</span> <span class="o">=</span> <span class="n">method</span><span class="p">(</span><span class="n">sampling_strategy</span><span class="o">=</span><span class="n">sampling_strategy</span><span class="p">,</span> <span class="n">k_neighbors</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">k_neighbors</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">random_state_method</span><span class="p">)</span></tt>
            </div>
            <div id="l163"
               class="code sev- "><tt><i>163</i>         <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">method</span> <span class="o">==</span> <span class="s1">&#39;svmsmote&#39;</span><span class="p">:</span></tt>
            </div>
            <div id="l164"
               class="code sev- "><tt><i>164</i>             <span class="n">method</span> <span class="o">=</span> <span class="n">method</span><span class="p">(</span><span class="n">sampling_strategy</span><span class="o">=</span><span class="n">sampling_strategy</span><span class="p">,</span> <span class="n">k_neighbors</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">k_neighbors</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">random_state_method</span><span class="p">)</span></tt>
            </div>
            <div id="l165"
               class="code sev- "><tt><i>165</i>         <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">method</span> <span class="o">==</span> <span class="s1">&#39;adasyn&#39;</span><span class="p">:</span></tt>
            </div>
            <div id="l166"
               class="code sev- "><tt><i>166</i>             <span class="n">method</span> <span class="o">=</span> <span class="n">method</span><span class="p">(</span><span class="n">sampling_strategy</span><span class="o">=</span><span class="n">sampling_strategy</span><span class="p">,</span> <span class="n">n_neighbors</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">k_neighbors</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">random_state_method</span><span class="p">)</span></tt>
            </div>
            <div id="l167"
               class="code sev-2  le">
               <ul class="violations">
               
                  <li>
                     <span class="count sev-2">
                        W293
                     </span>
                     Blank line contains whitespace</li>
               
               </ul><tt><i>167</i>         </tt>
            </div>
            <div id="l168"
               class="code sev-1  le">
               <ul class="violations">
               
                  <li>
                     <span class="count sev-1">
                        F405
                     </span>
                     'getTargetValue' may be undefined, or defined from star imports: biobb_ml.resampling.common</li>
               
               </ul><tt><i>168</i>         <span class="n">fu</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="s1">&#39;Target: </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">getTargetValue</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">target</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">out_log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="p">)),</span> <span class="bp">self</span><span class="o">.</span><span class="n">out_log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">global_log</span><span class="p">)</span></tt>
            </div>
            <div id="l169"
               class="code sev- "><tt><i>169</i> &nbsp;</tt>
            </div>
            <div id="l170"
               class="code sev- "><tt><i>170</i>         <span class="c1"># oversampling</span></tt>
            </div>
            <div id="l171"
               class="code sev- "><tt><i>171</i>         <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">type</span> <span class="o">==</span> <span class="s1">&#39;regression&#39;</span><span class="p">:</span></tt>
            </div>
            <div id="l172"
               class="code sev- "><tt><i>172</i>             <span class="n">fu</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="s1">&#39;Oversampling regression dataset, continuous data will be classified&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">out_log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">global_log</span><span class="p">)</span></tt>
            </div>
            <div id="l173"
               class="code sev-2  le">
               <ul class="violations">
               
                  <li>
                     <span class="count sev-2">
                        W291
                     </span>
                     Trailing whitespace</li>
               
               </ul><tt><i>173</i>             <span class="c1"># call resampler class for Regression ReSampling            </span></tt>
            </div>
            <div id="l174"
               class="code sev- "><tt><i>174</i>             <span class="n">rs</span> <span class="o">=</span> <span class="n">resampler</span><span class="p">()</span></tt>
            </div>
            <div id="l175"
               class="code sev- "><tt><i>175</i>             <span class="c1"># Create n_bins classes for the dataset</span></tt>
            </div>
            <div id="l176"
               class="code sev-1  le">
               <ul class="violations">
               
                  <li>
                     <span class="count sev-1">
                        F405
                     </span>
                     'getTargetValue' may be undefined, or defined from star imports: biobb_ml.resampling.common</li>
               
               </ul><tt><i>176</i>             <span class="n">ranges</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">target_pos</span> <span class="o">=</span> <span class="n">rs</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">train_df</span><span class="p">,</span> <span class="n">target</span><span class="o">=</span><span class="n">getTargetValue</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">target</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">out_log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="p">),</span> <span class="n">bins</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">n_bins</span><span class="p">,</span> <span class="n">balanced_binning</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">balanced_binning</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span></tt>
            </div>
            <div id="l177"
               class="code sev- "><tt><i>177</i>             <span class="c1"># Get the over-sampled data</span></tt>
            </div>
            <div id="l178"
               class="code sev- "><tt><i>178</i>             <span class="n">final_X</span><span class="p">,</span> <span class="n">final_y</span> <span class="o">=</span> <span class="n">rs</span><span class="o">.</span><span class="n">resample</span><span class="p">(</span><span class="n">method</span><span class="p">,</span> <span class="n">train_df</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span></tt>
            </div>
            <div id="l179"
               class="code sev- "><tt><i>179</i>         <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">type</span> <span class="o">==</span> <span class="s1">&#39;classification&#39;</span><span class="p">:</span></tt>
            </div>
            <div id="l180"
               class="code sev- "><tt><i>180</i>             <span class="c1"># get X and y</span></tt>
            </div>
            <div id="l181"
               class="code sev-1  le">
               <ul class="violations">
               
                  <li>
                     <span class="count sev-1">
                        F405
                     </span>
                     'getTarget' may be undefined, or defined from star imports: biobb_ml.resampling.common</li>
               
               </ul><tt><i>181</i>             <span class="n">y</span> <span class="o">=</span> <span class="n">getTarget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">target</span><span class="p">,</span> <span class="n">train_df</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">out_log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="p">)</span></tt>
            </div>
            <div id="l182"
               class="code sev- "><tt><i>182</i>             <span class="c1"># fit and resample</span></tt>
            </div>
            <div id="l183"
               class="code sev- "><tt><i>183</i>             <span class="n">final_X</span><span class="p">,</span> <span class="n">final_y</span> <span class="o">=</span> <span class="n">method</span><span class="o">.</span><span class="n">fit_resample</span><span class="p">(</span><span class="n">X</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span></tt>
            </div>
            <div id="l184"
               class="code sev- "><tt><i>184</i>             <span class="n">target_pos</span> <span class="o">=</span> <span class="kc">None</span></tt>
            </div>
            <div id="l185"
               class="code sev- "><tt><i>185</i> &nbsp;</tt>
            </div>
            <div id="l186"
               class="code sev- "><tt><i>186</i>         <span class="c1"># evaluate oversampling</span></tt>
            </div>
            <div id="l187"
               class="code sev- "><tt><i>187</i>         <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">evaluate</span><span class="p">:</span></tt>
            </div>
            <div id="l188"
               class="code sev- "><tt><i>188</i>             <span class="n">fu</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="s1">&#39;Evaluating data before oversampling with RandomForestClassifier&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">out_log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">global_log</span><span class="p">)</span></tt>
            </div>
            <div id="l189"
               class="code sev- "><tt><i>189</i>             <span class="n">cv</span> <span class="o">=</span> <span class="n">RepeatedStratifiedKFold</span><span class="p">(</span><span class="n">n_splits</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">evaluate_splits</span><span class="p">,</span> <span class="n">n_repeats</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">evaluate_repeats</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">random_state_evaluate</span><span class="p">)</span></tt>
            </div>
            <div id="l190"
               class="code sev- "><tt><i>190</i>             <span class="c1"># evaluate model</span></tt>
            </div>
            <div id="l191"
               class="code sev- "><tt><i>191</i>             <span class="n">scores</span> <span class="o">=</span> <span class="n">cross_val_score</span><span class="p">(</span><span class="n">RandomForestClassifier</span><span class="p">(),</span> <span class="n">X</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">scoring</span><span class="o">=</span><span class="s1">&#39;accuracy&#39;</span><span class="p">,</span> <span class="n">cv</span><span class="o">=</span><span class="n">cv</span><span class="p">,</span> <span class="n">n_jobs</span><span class="o">=-</span><span class="mi">1</span><span class="p">)</span></tt>
            </div>
            <div id="l192"
               class="code sev- "><tt><i>192</i>             <span class="k">if</span> <span class="ow">not</span> <span class="n">np</span><span class="o">.</span><span class="n">isnan</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">scores</span><span class="p">)):</span></tt>
            </div>
            <div id="l193"
               class="code sev- "><tt><i>193</i>                 <span class="n">fu</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="s1">&#39;Mean Accuracy before oversampling: </span><span class="si">%.3f</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">scores</span><span class="p">)),</span> <span class="bp">self</span><span class="o">.</span><span class="n">out_log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">global_log</span><span class="p">)</span></tt>
            </div>
            <div id="l194"
               class="code sev- "><tt><i>194</i>             <span class="k">else</span><span class="p">:</span></tt>
            </div>
            <div id="l195"
               class="code sev- "><tt><i>195</i>                 <span class="n">fu</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="s1">&#39;Unable to calculate cross validation score, NaN was returned.&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">out_log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">global_log</span><span class="p">)</span></tt>
            </div>
            <div id="l196"
               class="code sev- "><tt><i>196</i> &nbsp;</tt>
            </div>
            <div id="l197"
               class="code sev- "><tt><i>197</i>         <span class="c1"># log distribution before oversampling</span></tt>
            </div>
            <div id="l198"
               class="code sev- "><tt><i>198</i>         <span class="n">dist</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span></tt>
            </div>
            <div id="l199"
               class="code sev-2  le">
               <ul class="violations">
               
                  <li>
                     <span class="count sev-2">
                        E231
                     </span>
                     Missing whitespace after ','</li>
               
               </ul><tt><i>199</i>         <span class="k">for</span> <span class="n">k</span><span class="p">,</span><span class="n">v</span> <span class="ow">in</span> <span class="n">Counter</span><span class="p">(</span><span class="n">y</span><span class="p">)</span><span class="o">.</span><span class="n">items</span><span class="p">():</span></tt>
            </div>
            <div id="l200"
               class="code sev- "><tt><i>200</i>             <span class="n">per</span> <span class="o">=</span> <span class="n">v</span> <span class="o">/</span> <span class="nb">len</span><span class="p">(</span><span class="n">y</span><span class="p">)</span> <span class="o">*</span> <span class="mi">100</span></tt>
            </div>
            <div id="l201"
               class="code sev- "><tt><i>201</i>             <span class="n">rng</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span></tt>
            </div>
            <div id="l202"
               class="code sev-2  le">
               <ul class="violations">
               
                  <li>
                     <span class="count sev-2">
                        E701
                     </span>
                     Multiple statements on one line (colon)</li>
               
               </ul><tt><i>202</i>             <span class="k">if</span> <span class="n">ranges</span><span class="p">:</span> <span class="n">rng</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">ranges</span><span class="p">[</span><span class="n">k</span><span class="p">])</span></tt>
            </div>
            <div id="l203"
               class="code sev- "><tt><i>203</i>             <span class="n">dist</span> <span class="o">=</span> <span class="n">dist</span> <span class="o">+</span> <span class="s1">&#39;Class=</span><span class="si">%d</span><span class="s1">, n=</span><span class="si">%d</span><span class="s1"> (</span><span class="si">%.3f%%</span><span class="s1">) </span><span class="si">%s</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">k</span><span class="p">,</span> <span class="n">v</span><span class="p">,</span> <span class="n">per</span><span class="p">,</span> <span class="n">rng</span><span class="p">)</span></tt>
            </div>
            <div id="l204"
               class="code sev- "><tt><i>204</i>         <span class="n">fu</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="s1">&#39;Classes distribution before oversampling:</span><span class="se">\n\n</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">dist</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">out_log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">global_log</span><span class="p">)</span></tt>
            </div>
            <div id="l205"
               class="code sev- "><tt><i>205</i> &nbsp;</tt>
            </div>
            <div id="l206"
               class="code sev- "><tt><i>206</i>         <span class="c1"># join final_X and final_y in the output dataframe</span></tt>
            </div>
            <div id="l207"
               class="code sev- "><tt><i>207</i>         <span class="k">if</span> <span class="n">header</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span></tt>
            </div>
            <div id="l208"
               class="code sev- "><tt><i>208</i>             <span class="c1"># numpy</span></tt>
            </div>
            <div id="l209"
               class="code sev- "><tt><i>209</i>             <span class="n">out_df</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">column_stack</span><span class="p">((</span><span class="n">final_X</span><span class="p">,</span> <span class="n">final_y</span><span class="p">))</span></tt>
            </div>
            <div id="l210"
               class="code sev- "><tt><i>210</i>         <span class="k">else</span><span class="p">:</span></tt>
            </div>
            <div id="l211"
               class="code sev- "><tt><i>211</i>             <span class="c1"># pandas</span></tt>
            </div>
            <div id="l212"
               class="code sev- "><tt><i>212</i>             <span class="n">out_df</span> <span class="o">=</span> <span class="n">final_X</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">final_y</span><span class="p">)</span></tt>
            </div>
            <div id="l213"
               class="code sev-2  le">
               <ul class="violations">
               
                  <li>
                     <span class="count sev-2">
                        W293
                     </span>
                     Blank line contains whitespace</li>
               
               </ul><tt><i>213</i>                 </tt>
            </div>
            <div id="l214"
               class="code sev- "><tt><i>214</i>         <span class="c1"># if no header, convert np to pd</span></tt>
            </div>
            <div id="l215"
               class="code sev-1  le">
               <ul class="violations">
               
                  <li>
                     <span class="count sev-2">
                        E701
                     </span>
                     Multiple statements on one line (colon)</li>
               
                  <li>
                     <span class="count sev-1">
                        F405
                     </span>
                     'pd' may be undefined, or defined from star imports: biobb_ml.resampling.common</li>
               
               </ul><tt><i>215</i>         <span class="k">if</span> <span class="n">header</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span> <span class="n">out_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">out_df</span><span class="p">)</span></tt>
            </div>
            <div id="l216"
               class="code sev- "><tt><i>216</i> &nbsp;</tt>
            </div>
            <div id="l217"
               class="code sev- "><tt><i>217</i>         <span class="c1"># if cols encoded, decode them</span></tt>
            </div>
            <div id="l218"
               class="code sev- "><tt><i>218</i>         <span class="k">if</span> <span class="n">cols_encoded</span><span class="p">:</span></tt>
            </div>
            <div id="l219"
               class="code sev- "><tt><i>219</i>             <span class="k">for</span> <span class="n">column</span> <span class="ow">in</span> <span class="n">cols_encoded</span><span class="p">:</span></tt>
            </div>
            <div id="l220"
               class="code sev- "><tt><i>220</i>                 <span class="k">if</span> <span class="n">header</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span></tt>
            </div>
            <div id="l221"
               class="code sev-2  le">
               <ul class="violations">
               
                  <li>
                     <span class="count sev-2">
                        E202
                     </span>
                     Whitespace before '}'</li>
               
                  <li>
                     <span class="count sev-2">
                        E202
                     </span>
                     Whitespace before ')'</li>
               
                  <li>
                     <span class="count sev-2">
                        W291
                     </span>
                     Trailing whitespace</li>
               
               </ul><tt><i>221</i>                     <span class="n">out_df</span> <span class="o">=</span> <span class="n">out_df</span><span class="o">.</span><span class="n">astype</span><span class="p">({</span><span class="n">column</span><span class="p">:</span> <span class="nb">int</span> <span class="p">}</span> <span class="p">)</span> </tt>
            </div>
            <div id="l222"
               class="code sev- "><tt><i>222</i>                 <span class="n">out_df</span><span class="p">[</span><span class="n">column</span><span class="p">]</span> <span class="o">=</span> <span class="n">le</span><span class="o">.</span><span class="n">inverse_transform</span><span class="p">(</span><span class="n">out_df</span><span class="p">[</span><span class="n">column</span><span class="p">]</span><span class="o">.</span><span class="n">values</span><span class="o">.</span><span class="n">ravel</span><span class="p">())</span></tt>
            </div>
            <div id="l223"
               class="code sev- "><tt><i>223</i> &nbsp;</tt>
            </div>
            <div id="l224"
               class="code sev- "><tt><i>224</i>         <span class="c1"># if no header, target is in a different column</span></tt>
            </div>
            <div id="l225"
               class="code sev-2  le">
               <ul class="violations">
               
                  <li>
                     <span class="count sev-2">
                        E701
                     </span>
                     Multiple statements on one line (colon)</li>
               
               </ul><tt><i>225</i>         <span class="k">if</span> <span class="n">target_pos</span><span class="p">:</span> <span class="n">t</span> <span class="o">=</span> <span class="n">target_pos</span></tt>
            </div>
            <div id="l226"
               class="code sev-1  le">
               <ul class="violations">
               
                  <li>
                     <span class="count sev-2">
                        E701
                     </span>
                     Multiple statements on one line (colon)</li>
               
                  <li>
                     <span class="count sev-1">
                        F405
                     </span>
                     'getTargetValue' may be undefined, or defined from star imports: biobb_ml.resampling.common</li>
               
               </ul><tt><i>226</i>         <span class="k">else</span><span class="p">:</span> <span class="n">t</span> <span class="o">=</span> <span class="n">getTargetValue</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">target</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">out_log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="p">)</span></tt>
            </div>
            <div id="l227"
               class="code sev- "><tt><i>227</i>         <span class="c1"># log distribution after oversampling</span></tt>
            </div>
            <div id="l228"
               class="code sev- "><tt><i>228</i>         <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">type</span> <span class="o">==</span> <span class="s1">&#39;regression&#39;</span><span class="p">:</span></tt>
            </div>
            <div id="l229"
               class="code sev- "><tt><i>229</i>             <span class="n">ranges</span><span class="p">,</span> <span class="n">y_out</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">rs</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">out_df</span><span class="p">,</span> <span class="n">target</span><span class="o">=</span><span class="n">t</span><span class="p">,</span> <span class="n">bins</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">n_bins</span><span class="p">,</span> <span class="n">balanced_binning</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">balanced_binning</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span></tt>
            </div>
            <div id="l230"
               class="code sev- "><tt><i>230</i>         <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">type</span> <span class="o">==</span> <span class="s1">&#39;classification&#39;</span><span class="p">:</span></tt>
            </div>
            <div id="l231"
               class="code sev-1  le">
               <ul class="violations">
               
                  <li>
                     <span class="count sev-1">
                        F405
                     </span>
                     'getTarget' may be undefined, or defined from star imports: biobb_ml.resampling.common</li>
               
               </ul><tt><i>231</i>             <span class="n">y_out</span> <span class="o">=</span> <span class="n">getTarget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">target</span><span class="p">,</span> <span class="n">out_df</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">out_log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="p">)</span></tt>
            </div>
            <div id="l232"
               class="code sev- "><tt><i>232</i> &nbsp;</tt>
            </div>
            <div id="l233"
               class="code sev- "><tt><i>233</i>         <span class="n">dist</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span></tt>
            </div>
            <div id="l234"
               class="code sev-2  le">
               <ul class="violations">
               
                  <li>
                     <span class="count sev-2">
                        E231
                     </span>
                     Missing whitespace after ','</li>
               
               </ul><tt><i>234</i>         <span class="k">for</span> <span class="n">k</span><span class="p">,</span><span class="n">v</span> <span class="ow">in</span> <span class="n">Counter</span><span class="p">(</span><span class="n">y_out</span><span class="p">)</span><span class="o">.</span><span class="n">items</span><span class="p">():</span></tt>
            </div>
            <div id="l235"
               class="code sev- "><tt><i>235</i>             <span class="n">per</span> <span class="o">=</span> <span class="n">v</span> <span class="o">/</span> <span class="nb">len</span><span class="p">(</span><span class="n">y_out</span><span class="p">)</span> <span class="o">*</span> <span class="mi">100</span></tt>
            </div>
            <div id="l236"
               class="code sev- "><tt><i>236</i>             <span class="n">rng</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span></tt>
            </div>
            <div id="l237"
               class="code sev-2  le">
               <ul class="violations">
               
                  <li>
                     <span class="count sev-2">
                        E701
                     </span>
                     Multiple statements on one line (colon)</li>
               
               </ul><tt><i>237</i>             <span class="k">if</span> <span class="n">ranges</span><span class="p">:</span> <span class="n">rng</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">ranges</span><span class="p">[</span><span class="n">k</span><span class="p">])</span></tt>
            </div>
            <div id="l238"
               class="code sev- "><tt><i>238</i>             <span class="n">dist</span> <span class="o">=</span> <span class="n">dist</span> <span class="o">+</span> <span class="s1">&#39;Class=</span><span class="si">%d</span><span class="s1">, n=</span><span class="si">%d</span><span class="s1"> (</span><span class="si">%.3f%%</span><span class="s1">) </span><span class="si">%s</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">k</span><span class="p">,</span> <span class="n">v</span><span class="p">,</span> <span class="n">per</span><span class="p">,</span> <span class="n">rng</span><span class="p">)</span></tt>
            </div>
            <div id="l239"
               class="code sev- "><tt><i>239</i>         <span class="n">fu</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="s1">&#39;Classes distribution after oversampling:</span><span class="se">\n\n</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">dist</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">out_log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">global_log</span><span class="p">)</span></tt>
            </div>
            <div id="l240"
               class="code sev- "><tt><i>240</i> &nbsp;</tt>
            </div>
            <div id="l241"
               class="code sev- "><tt><i>241</i>         <span class="c1"># evaluate oversampling</span></tt>
            </div>
            <div id="l242"
               class="code sev- "><tt><i>242</i>         <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">evaluate</span><span class="p">:</span></tt>
            </div>
            <div id="l243"
               class="code sev- "><tt><i>243</i>             <span class="n">fu</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="s1">&#39;Evaluating data after oversampling with RandomForestClassifier&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">out_log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">global_log</span><span class="p">)</span></tt>
            </div>
            <div id="l244"
               class="code sev- "><tt><i>244</i>             <span class="n">cv</span> <span class="o">=</span> <span class="n">RepeatedStratifiedKFold</span><span class="p">(</span><span class="n">n_splits</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">evaluate_splits</span><span class="p">,</span> <span class="n">n_repeats</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">evaluate_repeats</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">random_state_evaluate</span><span class="p">)</span></tt>
            </div>
            <div id="l245"
               class="code sev- "><tt><i>245</i>             <span class="c1"># evaluate model</span></tt>
            </div>
            <div id="l246"
               class="code sev- "><tt><i>246</i>             <span class="n">scores</span> <span class="o">=</span> <span class="n">cross_val_score</span><span class="p">(</span><span class="n">RandomForestClassifier</span><span class="p">(),</span> <span class="n">final_X</span><span class="p">,</span> <span class="n">y_out</span><span class="p">,</span> <span class="n">scoring</span><span class="o">=</span><span class="s1">&#39;accuracy&#39;</span><span class="p">,</span> <span class="n">cv</span><span class="o">=</span><span class="n">cv</span><span class="p">,</span> <span class="n">n_jobs</span><span class="o">=-</span><span class="mi">1</span><span class="p">)</span></tt>
            </div>
            <div id="l247"
               class="code sev- "><tt><i>247</i>             <span class="k">if</span> <span class="ow">not</span> <span class="n">np</span><span class="o">.</span><span class="n">isnan</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">scores</span><span class="p">)):</span></tt>
            </div>
            <div id="l248"
               class="code sev-1  le">
               <ul class="violations">
               
                  <li>
                     <span class="count sev-1">
                        F405
                     </span>
                     'oversampling_methods' may be undefined, or defined from star imports: biobb_ml.resampling.common</li>
               
               </ul><tt><i>248</i>                 <span class="n">fu</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="s1">&#39;Mean Accuracy after oversampling a </span><span class="si">%s</span><span class="s1"> dataset with </span><span class="si">%s</span><span class="s1"> method: </span><span class="si">%.3f</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">type</span><span class="p">,</span> <span class="n">oversampling_methods</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">method</span><span class="p">][</span><span class="s1">&#39;method&#39;</span><span class="p">],</span> <span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">scores</span><span class="p">)),</span> <span class="bp">self</span><span class="o">.</span><span class="n">out_log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">global_log</span><span class="p">)</span></tt>
            </div>
            <div id="l249"
               class="code sev- "><tt><i>249</i>             <span class="k">else</span><span class="p">:</span></tt>
            </div>
            <div id="l250"
               class="code sev- "><tt><i>250</i>                 <span class="n">fu</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="s1">&#39;Unable to calculate cross validation score, NaN was returned.&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">out_log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">global_log</span><span class="p">)</span></tt>
            </div>
            <div id="l251"
               class="code sev- "><tt><i>251</i> &nbsp;</tt>
            </div>
            <div id="l252"
               class="code sev- "><tt><i>252</i>         <span class="c1"># save output</span></tt>
            </div>
            <div id="l253"
               class="code sev- "><tt><i>253</i>         <span class="n">hdr</span> <span class="o">=</span> <span class="kc">False</span></tt>
            </div>
            <div id="l254"
               class="code sev-2  le">
               <ul class="violations">
               
                  <li>
                     <span class="count sev-2">
                        E701
                     </span>
                     Multiple statements on one line (colon)</li>
               
               </ul><tt><i>254</i>         <span class="k">if</span> <span class="n">header</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span> <span class="n">hdr</span> <span class="o">=</span> <span class="kc">True</span></tt>
            </div>
            <div id="l255"
               class="code sev- "><tt><i>255</i>         <span class="n">fu</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="s1">&#39;Saving oversampled dataset to </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">io_dict</span><span class="p">[</span><span class="s2">&quot;out&quot;</span><span class="p">][</span><span class="s2">&quot;output_dataset_path&quot;</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">out_log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">global_log</span><span class="p">)</span></tt>
            </div>
            <div id="l256"
               class="code sev-2  le">
               <ul class="violations">
               
                  <li>
                     <span class="count sev-2">
                        E251
                     </span>
                     Unexpected spaces around keyword / parameter equals (in 2 places)</li>
               
               </ul><tt><i>256</i>         <span class="n">out_df</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">io_dict</span><span class="p">[</span><span class="s2">&quot;out&quot;</span><span class="p">][</span><span class="s2">&quot;output_dataset_path&quot;</span><span class="p">],</span> <span class="n">index</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="n">hdr</span><span class="p">)</span></tt>
            </div>
            <div id="l257"
               class="code sev- "><tt><i>257</i> &nbsp;</tt>
            </div>
            <div id="l258"
               class="code sev- "><tt><i>258</i>         <span class="c1"># Copy files to host</span></tt>
            </div>
            <div id="l259"
               class="code sev- "><tt><i>259</i>         <span class="bp">self</span><span class="o">.</span><span class="n">copy_to_host</span><span class="p">()</span></tt>
            </div>
            <div id="l260"
               class="code sev- "><tt><i>260</i> &nbsp;</tt>
            </div>
            <div id="l261"
               class="code sev- "><tt><i>261</i>         <span class="bp">self</span><span class="o">.</span><span class="n">tmp_files</span><span class="o">.</span><span class="n">extend</span><span class="p">([</span></tt>
            </div>
            <div id="l262"
               class="code sev- "><tt><i>262</i>             <span class="bp">self</span><span class="o">.</span><span class="n">stage_io_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;unique_dir&quot;</span><span class="p">)</span></tt>
            </div>
            <div id="l263"
               class="code sev- "><tt><i>263</i>         <span class="p">])</span></tt>
            </div>
            <div id="l264"
               class="code sev- "><tt><i>264</i>         <span class="bp">self</span><span class="o">.</span><span class="n">remove_tmp_files</span><span class="p">()</span></tt>
            </div>
            <div id="l265"
               class="code sev- "><tt><i>265</i> &nbsp;</tt>
            </div>
            <div id="l266"
               class="code sev- "><tt><i>266</i>         <span class="bp">self</span><span class="o">.</span><span class="n">check_arguments</span><span class="p">(</span><span class="n">output_files_created</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">raise_exception</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></tt>
            </div>
            <div id="l267"
               class="code sev- "><tt><i>267</i> &nbsp;</tt>
            </div>
            <div id="l268"
               class="code sev- "><tt><i>268</i>         <span class="k">return</span> <span class="mi">0</span></tt>
            </div>
            <div id="l269"
               class="code sev- "><tt><i>269</i> &nbsp;</tt>
            </div>
            <div id="l270"
               class="code sev-2  le">
               <ul class="violations">
               
                  <li>
                     <span class="count sev-2">
                        E302
                     </span>
                     Expected 2 blank lines, found 1</li>
               
               </ul><tt><i>270</i> <span class="k">def</span> <span class="nf">oversampling</span><span class="p">(</span><span class="n">input_dataset_path</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">output_dataset_path</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">properties</span><span class="p">:</span> <span class="nb">dict</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span></tt>
            </div>
            <div id="l271"
               class="code sev- "><tt><i>271</i> <span class="w">    </span><span class="sd">&quot;&quot;&quot;Execute the :class:`Oversampling &lt;resampling.oversampling.Oversampling&gt;` class and</span></tt>
            </div>
            <div id="l272"
               class="code sev- "><tt><i>272</i> <span class="sd">    execute the :meth:`launch() &lt;resampling.oversampling.Oversampling.launch&gt;` method.&quot;&quot;&quot;</span></tt>
            </div>
            <div id="l273"
               class="code sev- "><tt><i>273</i> &nbsp;</tt>
            </div>
            <div id="l274"
               class="code sev- "><tt><i>274</i>     <span class="k">return</span> <span class="n">Oversampling</span><span class="p">(</span><span class="n">input_dataset_path</span><span class="o">=</span><span class="n">input_dataset_path</span><span class="p">,</span></tt>
            </div>
            <div id="l275"
               class="code sev-2  le">
               <ul class="violations">
               
                  <li>
                     <span class="count sev-2">
                        E128
                     </span>
                     Continuation line under-indented for visual indent</li>
               
               </ul><tt><i>275</i>                    <span class="n">output_dataset_path</span><span class="o">=</span><span class="n">output_dataset_path</span><span class="p">,</span></tt>
            </div>
            <div id="l276"
               class="code sev-2  le">
               <ul class="violations">
               
                  <li>
                     <span class="count sev-2">
                        E128
                     </span>
                     Continuation line under-indented for visual indent</li>
               
               </ul><tt><i>276</i>                    <span class="n">properties</span><span class="o">=</span><span class="n">properties</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span><span class="o">.</span><span class="n">launch</span><span class="p">()</span></tt>
            </div>
            <div id="l277"
               class="code sev- "><tt><i>277</i> &nbsp;</tt>
            </div>
            <div id="l278"
               class="code sev-2  le">
               <ul class="violations">
               
                  <li>
                     <span class="count sev-2">
                        E302
                     </span>
                     Expected 2 blank lines, found 1</li>
               
               </ul><tt><i>278</i> <span class="k">def</span> <span class="nf">main</span><span class="p">():</span></tt>
            </div>
            <div id="l279"
               class="code sev- "><tt><i>279</i> <span class="w">    </span><span class="sd">&quot;&quot;&quot;Command line execution of this building block. Please check the command line documentation.&quot;&quot;&quot;</span></tt>
            </div>
            <div id="l280"
               class="code sev- "><tt><i>280</i>     <span class="n">parser</span> <span class="o">=</span> <span class="n">argparse</span><span class="o">.</span><span class="n">ArgumentParser</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s2">&quot;Wrapper of most of the imblearn.over_sampling methods.&quot;</span><span class="p">,</span> <span class="n">formatter_class</span><span class="o">=</span><span class="k">lambda</span> <span class="n">prog</span><span class="p">:</span> <span class="n">argparse</span><span class="o">.</span><span class="n">RawTextHelpFormatter</span><span class="p">(</span><span class="n">prog</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">99999</span><span class="p">))</span></tt>
            </div>
            <div id="l281"
               class="code sev- "><tt><i>281</i>     <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span><span class="s1">&#39;--config&#39;</span><span class="p">,</span> <span class="n">required</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="s1">&#39;Configuration file&#39;</span><span class="p">)</span></tt>
            </div>
            <div id="l282"
               class="code sev- "><tt><i>282</i> &nbsp;</tt>
            </div>
            <div id="l283"
               class="code sev- "><tt><i>283</i>     <span class="c1"># Specific args of each building block</span></tt>
            </div>
            <div id="l284"
               class="code sev- "><tt><i>284</i>     <span class="n">required_args</span> <span class="o">=</span> <span class="n">parser</span><span class="o">.</span><span class="n">add_argument_group</span><span class="p">(</span><span class="s1">&#39;required arguments&#39;</span><span class="p">)</span></tt>
            </div>
            <div id="l285"
               class="code sev- "><tt><i>285</i>     <span class="n">required_args</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span><span class="s1">&#39;--input_dataset_path&#39;</span><span class="p">,</span> <span class="n">required</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="s1">&#39;Path to the input dataset. Accepted formats: csv.&#39;</span><span class="p">)</span></tt>
            </div>
            <div id="l286"
               class="code sev- "><tt><i>286</i>     <span class="n">required_args</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span><span class="s1">&#39;--output_dataset_path&#39;</span><span class="p">,</span> <span class="n">required</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="s1">&#39;Path to the output dataset. Accepted formats: csv.&#39;</span><span class="p">)</span></tt>
            </div>
            <div id="l287"
               class="code sev- "><tt><i>287</i> &nbsp;</tt>
            </div>
            <div id="l288"
               class="code sev- "><tt><i>288</i>     <span class="n">args</span> <span class="o">=</span> <span class="n">parser</span><span class="o">.</span><span class="n">parse_args</span><span class="p">()</span></tt>
            </div>
            <div id="l289"
               class="code sev- "><tt><i>289</i>     <span class="n">args</span><span class="o">.</span><span class="n">config</span> <span class="o">=</span> <span class="n">args</span><span class="o">.</span><span class="n">config</span> <span class="ow">or</span> <span class="s2">&quot;</span><span class="si">{}</span><span class="s2">&quot;</span></tt>
            </div>
            <div id="l290"
               class="code sev- "><tt><i>290</i>     <span class="n">properties</span> <span class="o">=</span> <span class="n">settings</span><span class="o">.</span><span class="n">ConfReader</span><span class="p">(</span><span class="n">config</span><span class="o">=</span><span class="n">args</span><span class="o">.</span><span class="n">config</span><span class="p">)</span><span class="o">.</span><span class="n">get_prop_dic</span><span class="p">()</span></tt>
            </div>
            <div id="l291"
               class="code sev- "><tt><i>291</i> &nbsp;</tt>
            </div>
            <div id="l292"
               class="code sev- "><tt><i>292</i>     <span class="c1"># Specific call of each building block</span></tt>
            </div>
            <div id="l293"
               class="code sev- "><tt><i>293</i>     <span class="n">oversampling</span><span class="p">(</span><span class="n">input_dataset_path</span><span class="o">=</span><span class="n">args</span><span class="o">.</span><span class="n">input_dataset_path</span><span class="p">,</span></tt>
            </div>
            <div id="l294"
               class="code sev-2  le">
               <ul class="violations">
               
                  <li>
                     <span class="count sev-2">
                        E127
                     </span>
                     Continuation line over-indented for visual indent</li>
               
               </ul><tt><i>294</i>                    <span class="n">output_dataset_path</span><span class="o">=</span><span class="n">args</span><span class="o">.</span><span class="n">output_dataset_path</span><span class="p">,</span></tt>
            </div>
            <div id="l295"
               class="code sev-2  le">
               <ul class="violations">
               
                  <li>
                     <span class="count sev-2">
                        E127
                     </span>
                     Continuation line over-indented for visual indent</li>
               
               </ul><tt><i>295</i>                    <span class="n">properties</span><span class="o">=</span><span class="n">properties</span><span class="p">)</span></tt>
            </div>
            <div id="l296"
               class="code sev- "><tt><i>296</i> &nbsp;</tt>
            </div>
            <div id="l297"
               class="code sev-2  le">
               <ul class="violations">
               
                  <li>
                     <span class="count sev-2">
                        E305
                     </span>
                     Expected 2 blank lines after class or function definition, found 1</li>
               
               </ul><tt><i>297</i> <span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s1">&#39;__main__&#39;</span><span class="p">:</span></tt>
            </div>
            <div id="l298"
               class="code sev- "><tt><i>298</i>     <span class="n">main</span><span class="p">()</span></tt>
            </div>
            
         </div>
      </div>
   </body>
</html>